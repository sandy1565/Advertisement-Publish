<form class="form container" #personForm="ngForm">
  <div class="container-fluid">
  <h1>ADVERTISEMENT DETAILS</h1>

  <!-- Client Name -->
  <div class="form-group">
    <label>ClientName</label>
    <select id="client_id" [(ngModel)]="clientId" #client_id="ngModel" (change)="selectClientName()" name="client_id" class="form-control">
      <option [ngValue]="client.client_id" *ngFor=" let client of clients" >
        {{client.clientname}}
      </option>
    </select>
  </div>

  <!-- Address -->
  <div class="form-group">
    <label class="control-label" for="Country">Country:</label>
    <select
      *ngIf="getCountries()"
      [(ngModel)]="selectedCountry"
      name="selectedCountry"
      (change)="onSelectCountry($event.target.value)"
      class="form-control input-lg"
      id="country"
    >
      <option value="0">Select Country</option>
      <option
        *ngFor="let country of getCountries()"
        value="{{ country.country_id }}"
        >{{ country.country_name }}</option
      >
    </select>
  </div>

<!-- Select States-->
  <div class="form-group">
    <label class="control-label" for="States">States:</label>
    <select
      [(ngModel)]="selectedState"
      name="selectedState"
      (change)="onSelectState($event.target.value)"
      class="form-control input-lg"
      id="state"
    >
      <option selected disabled="true"> Select State</option>
      <option *ngFor="let state of states" value="{{ state.state_id }}">{{
        state.statename
      }}</option>
    </select>
  </div>

  <!-- Select City -->
  <div class="form-group">
    <label class="control-label" for="City">City:</label>
    <select
      class="form-control input-lg"
      id="city"
      (change)="onSelectCity($event.target.value)"
    >
      <option selected disabled="true">Select City</option>
      <option *ngFor="let city of cities" value="{{ city.city_id }}">{{
        city.cityname
      }}</option>
    </select>
  </div>

  <!-- Select Location -->
  <div class="form-group">
    <label class="control-label" for="City">Location:</label>
    <select
      class="form-control input-lg"
      [(ngModel)]="locationId"
      #location_id="ngModel"
      id="location"
      name="location_name"
      (change)="selectLocation()"
    >
      <option>Select Location</option>
      <option
        *ngFor="let location of locations"
        [ngValue]="location.location_id"
        >{{ location.location_name }}</option
      >
    </select>
  </div>

  <!-- Select Block-->
  <div class="form-group">
    <label class="label-control">Block:</label>
    <select
      id="block_id"
      #block_id="ngModel"
      class="hideLabel form-control"
      [(ngModel)]="blockId"
      name="block_id"
      <!-- (change)="selectBlockName()" -->
    >
      <option selected="" value="">Select Your block</option>
      <option [ngValue]="block.block_id" *ngFor="let block of blocks">
        {{ block.blockname }}
      </option>
    </select>
  </div>



  <!-- Advertisement Subject -->
  <div class="form-group">
    <label  class="label-control">Advertisement Subject:</label>
    <input type="text" name="advt_subject"  id="advt_subject" (keypress)="keyPressed($event)" required
     [(ngModel)]="advt_subject" #AdvtSubjects="ngModel" class="form-control">
     <div *ngIf ="AdvtSubjects.errors && (AdvtSubjects.dirty||  AdvtSubjects.touched)" class ="text-danger">
       <div [hidden] ="!AdvtSubjects.hasError('required')"> Advertisement details required</div>
     </div> 
  </div>

  <!-- Advertisment Details -->
  <div class="form-group">
    <label  class="label-control">Advertisement Details:</label>
    <textarea type="text" name="advt_details"  id= "advt_details"   (keypress)="keyPressed($event)" required
     [(ngModel)]="advt_details" #AdvtDetails="ngModel" class = "form-control"></textarea>
     <div *ngIf ="AdvtDetails.errors && (AdvtDetails.dirty||  AdvtDetails.touched)" class ="text-danger">
       <div [hidden] ="!AdvtDetails.hasError('required')"> Advertisement details required</div>
     </div> 
  </div>
  
  <!-- publish date -->
  <div class="form-group">
      <label class="label-control">Publish Date:</label>
        <input class="form-control" type="date" name="publish_date" [(ngModel)]="publish_date" #publishDate="ngModel">
  </div>   
  

  <!--Age From-->
  <div class="form-group">
      <label  class="label-control">Age From:</label>
      <input type="text" name="ageFrom" class="form-control"  value="age_from"   id="age_from" [(ngModel)]="age_from"  (change)= "fromDate(age_from.value)"  minlength ="2" maxlength ="3"  (keypress)="keyPress($event)" #ageFrom="ngModel" required>
      <div *ngIf ="ageFrom.errors && (ageFrom.dirty|| ageFrom.touched)" class="text-danger">
        <div [hidden] ="!ageFrom.hasError('required')"> Age is Required</div>
      </div>
  </div>

  <!-- To age-->
  <div class="form-group">
      <label  class="label-control">Age To:</label>
      <input type="text" name="age_to"  id ="age_to"  value ="age_to" class="form-control"   (change)="checkPrice()" [(ngModel)]="age_to" minlength="2" maxlength="3"   (keypress)="keyPress($event)" #ageTo="ngModel" required>
      <div *ngIf ="ageTo.errors && (ageTo.dirty || ageTo.touched)" class ="text-danger">
        <div [hidden] ="!ageTo.hasError('required')"> Age is Required</div>
      </div>
  </div>

 <button type="button" class="btn btn-primary"  routerLink="../advt-details-list"  (click)="onSubmit($event, AdvtDetails.value, publishDate.value, ageFrom.value, ageTo.value )">submit</button>                  
</div>    
</form>





